<template>
  <main>
    <!-- Marketing Section -->
    <section class="marketing-main">
      <div class="marketing-content">
        <h1>
          <span>Look first /</span><br>
          <span>Then leap.</span>
        </h1>
        <p class="marketing-subtitle">
          –°–Ω–∞—á–∞–ª–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞, –∑–∞—Ç–µ–º –¥–µ–π—Å—Ç–≤–∏–µ. –¢–∞–∫ —Å–æ–≤–µ—Ä—à–∞—é—Ç—Å—è –ª—É—á—à–∏–µ –ø–æ—Å—Ç—É–ø–∫–∏.
        </p>
        <button class="marketing-cta" @click="showMarket">
          –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ
        </button>
        <p class="marketing-note">
          0 $ –Ω–∞–≤—Å–µ–≥–¥–∞ ‚Äî –∏ –Ω–∏–∫–∞–∫–æ–π –±–∞–Ω–∫–æ–≤—Å–∫–æ–π –∫–∞—Ä—Ç—ã
        </p>
      </div>
      <div class="marketing-video">
        <p class="marketing-person">–õ–µ–æ –•–æ—É–ª–¥–∏–Ω–≥, –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫</p>
      </div>
    </section>

    <!-- Market Section -->
    <section class="content">
      <h2>–û–±–∑–æ—Ä —Ä—ã–Ω–∫–∞‚Ä∫</h2>
      
      <!-- Tabs -->
      <div class="tabs">
        <button 
          v-for="tab in tabs" 
          :key="tab.id"
          :class="{ active: activeTab === tab.id }"
          @click="setActiveTab(tab.id)"
        >
          {{ tab.name }}
        </button>
      </div>

      <!-- Market Indexes -->
      <div class="market-indexes">
        <div 
          v-for="index in marketIndexes" 
          :key="index.symbol"
          :class="['index-card', index.changeClass]"
          :data-symbol="index.symbol"
          @click="selectIndex(index.symbol)"
        >
          <span>{{ index.name }}</span>
          <strong>{{ index.value }}</strong>
          <span class="percent">{{ index.change }}</span>
        </div>
      </div>

      <!-- Chart Container -->
      <div class="chart-container">
        <div class="tradingview-widget-container">
          <div id="tradingview_chart"></div>
        </div>
      </div>

      <!-- Community Ideas -->
      <section class="community-ideas">
        <div class="section-header">
          <h3>–ò–¥–µ–∏ –Ω–∞—à–µ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞</h3>
          <div class="idea-tabs">
            <button 
              v-for="ideaTab in ideaTabs" 
              :key="ideaTab.id"
              :class="{ active: activeIdeaTab === ideaTab.id }"
              @click="setActiveIdeaTab(ideaTab.id)"
            >
              {{ ideaTab.name }}
            </button>
          </div>
        </div>
        
        <div class="video-grid">
          <div v-for="video in videos" :key="video.id" class="video-item">
            <div class="video-thumbnail" @click="playVideo(video.id)">
              <img :src="video.thumbnail" :alt="video.title">
              <div class="video-duration">{{ video.duration }}</div>
              <div class="play-button">‚ñ∂</div>
            </div>
            <div class="video-details">
              <h4 class="video-title">{{ video.title }}</h4>
              <div class="video-author">{{ video.author }}</div>
              <div class="video-stats">
                <span>{{ video.views }} –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤</span>
                <span>‚Ä¢</span>
                <span>{{ video.time }}</span>
              </div>
              <div class="video-description">{{ video.description }}</div>
              <div class="video-likes">
                <span class="like-icon">üëç</span>
                <span class="like-count">{{ video.likes }}</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Leaders Section -->
      <section class="leaders-section">
        <div class="section-header">
          <h3>–õ–∏–¥–µ—Ä—ã —Ä–æ—Å—Ç–∞</h3>
          <h3>–õ–∏–¥–µ—Ä—ã –ø–∞–¥–µ–Ω–∏—è</h3>
        </div>
        
        <div class="leaders-container">
          <!-- Growth Leaders -->
          <div class="leaders-block">
            <div class="leaders-list">
              <div v-for="leader in growthLeaders" :key="leader.ticker" class="leader-item">
                <div class="leader-info">
                  <span class="leader-name">{{ leader.name }}</span>
                  <span class="leader-ticker">{{ leader.ticker }}</span>
                  <span class="leader-price">{{ leader.price }}</span>
                </div>
                <span class="leader-change positive">{{ leader.change }}</span>
              </div>
            </div>
            <a href="#" class="show-all">–í—Å–µ –∞–∫—Ü–∏–∏ —Å –±–æ–ª—å—à–∏–º —Ä–æ—Å—Ç–æ–º –∑–∞ —Å—É—Ç–∫–∏ ></a>
          </div>

          <!-- Decline Leaders -->
          <div class="leaders-block">
            <div class="leaders-list">
              <div v-for="leader in declineLeaders" :key="leader.ticker" class="leader-item">
                <div class="leader-info">
                  <span class="leader-name">{{ leader.name }}</span>
                  <span class="leader-ticker">{{ leader.ticker }}</span>
                  <span class="leader-price">{{ leader.price }}</span>
                </div>
                <span class="leader-change negative">{{ leader.change }}</span>
              </div>
            </div>
            <a href="#" class="show-all">–í—Å–µ –∞–∫—Ü–∏–∏ —Å –±–æ–ª—å—à–∏–º –ø–∞–¥–µ–Ω–∏–µ–º –∑–∞ —Å—É—Ç–∫–∏ ></a>
          </div>
        </div>
      </section>
    </section>

    <!-- Russia News Section -->
    <section class="russia-news">
      <div class="section-header">
        <h2>–ù–æ–≤–æ—Å—Ç–∏ –ø–æ –∞–∫—Ü–∏—è–º –†–æ—Å—Å–∏–∏</h2>
      </div>
      
      <div class="news-grid">
        <!-- –ö–æ–ª–æ–Ω–∫–∞ 1 -->
        <div class="news-column">
          <!-- –ù–æ–≤–æ—Å—Ç—å 1 -->
          <div class="news-item">
            <div class="news-time-source">1 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥ - Reuters</div>
            <div class="news-title">–†—É–±–ª—å –¥–æ—Ä–æ–∂–∞–µ—Ç –Ω–∞ —Ñ–æ—Ä–µ–∫—Å–µ –∏ –ø—ã—Ç–∞–µ—Ç—Å—è –≤—ã—Ä–∞—Å—Ç–∏ –ø–æ –∏—Ç–æ–≥–∞–º —Ç–æ—Ä–≥–æ–≤ –ú–æ—Å–±–∏—Ä–∂–∏</div>
          </div>
          
          <!-- –ù–æ–≤–æ—Å—Ç—å 4 -->
          <div class="news-item">
            <div class="news-time-source">4 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥ - Reuters</div>
            <div class="news-title">–≠–∫—Å–ø–µ—Ä–∞—Ü–∏—è –∫—Ä—É–ø–Ω—ã—Ö FX-–æ–ø—Ü–∏–æ–Ω–æ–≤ —Å–µ–≥–æ–¥–Ω—è</div>
          </div>
          
          <!-- –ù–æ–≤–æ—Å—Ç—å 7 -->
          <div class="news-item">
            <div class="news-time-source">7 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥ - Reuters</div>
            <div class="news-title">–†—É–±–ª—å —Ä–∞—Å—Ç–µ—Ç –Ω–∞ –ú–æ—Å–±–∏—Ä–∂–µ —Å –æ–≥–ª—è–¥–∫–æ–π –Ω–∞ –ë–ò–ü –∏ –º–∏—Ä–Ω—ã–µ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—ã</div>
          </div>
          
          <!-- –ù–æ–≤–æ—Å—Ç—å 10 -->
          <div class="news-item">
            <div class="news-time-source">10 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥ - Reuters</div>
            <div class="news-title">–†—É–±–ª—å –≤ –ø–ª—é—Å–µ, –Ω–µ–≤–∑–∏—Ä–∞—è –Ω–∞ –¥–µ—à–µ–≤–µ—é—â—É—é –Ω–µ—Ñ—Ç—å –∏ —É—Ç—Ä–∞—Ç—É –Ω–∞–ª–æ–≥–æ–≤–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏</div>
          </div>
        </div>
        
        <!-- –ö–æ–ª–æ–Ω–∫–∞ 2 -->
        <div class="news-column">
          <!-- –ù–æ–≤–æ—Å—Ç—å 2 -->
          <div class="news-item">
            <div class="news-time-source">2 —á–∞—Å–∞ –Ω–∞–∑–∞–¥ - Reuters</div>
            <div class="news-title">–ù–µ—Ö–≤–∞—Ç–∫–∞ –≤ 1 –∫–≤ –ø–æ–ª—É—á–∏–ª —á–∏—Å—Ç—ã–π —É–±—ã—Ç–æ–∫ –≤ 35 –º–ª—Ä–¥ —Ä—É–± –ø–æ –†–°–ë–£</div>
          </div>
          
          <!-- –ù–æ–≤–æ—Å—Ç—å 5 -->
          <div class="news-item">
            <div class="news-time-source">1 —á–∞—Å –Ω–∞–∑–∞–¥ - Reuters</div>
            <div class="news-title">–†–∏—Ç–µ–π–ª–µ—Ä –ú–∞–≥–Ω–∏—Ç –≤ 24–≥ –Ω–∞—Ä–∞—Å—Ç–∏–ª –≤—ã—Ä—É—á–∫—É –Ω–∞ 19,65, —Å–æ–∫—Ä–∞—Ç–∏–ª —á–∏—Å—Ç—É—é –ø—Ä–∏–±—ã–ª—å –Ω–∞ 24,43</div>
          </div>
          
          <!-- –ù–æ–≤–æ—Å—Ç—å 8 -->
          <div class="news-item">
            <div class="news-time-source">8 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥ - Reuters</div>
            <div class="news-title">–ú–ù–ï–ù–ò–ï - –í–∑—Ä—ã–≤–Ω–æ–π —Ä–æ—Å—Ç –∑–æ–ª–æ—Ç–∞ –¥–æ–ª–∂–µ–Ω –Ω–∞—Å—Ç–æ—Ä–æ–∂–∏—Ç—å –≤–∞–ª—é—Ç–Ω—ã—Ö —Ç—Ä–µ–π–¥–µ—Ä–æ–≤</div>
          </div>
          
          <!-- –ù–æ–≤–æ—Å—Ç—å 11 -->
          <div class="news-item">
            <div class="news-time-source">11 —á–∞—Å–æ–≤ - Reuters</div>
            <div class="news-title">–¢–ì–ö-1 —Å–Ω–∏–∑–∏–ª–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ –£—ç–º–µ—Ä—Ç–∏–Ω –≤ 1 –∫–≤ –Ω–∞ 6,2% –≥/–≥</div>
          </div>
        </div>
        
        <!-- –ö–æ–ª–æ–Ω–∫–∞ 3 -->
        <div class="news-column">
          <!-- –ù–æ–≤–æ—Å—Ç—å 3 -->
          <div class="news-item">
            <div class="news-time-source">3 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥ - Reuters</div>
            <div class="news-title">–õ–ê–ô–ö –º–æ–∂–µ—Ç –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö –¥–∏–≤–∏–¥–µ–Ω–¥–æ–≤ –∑–∞ 24–≥</div>
          </div>
          
          <!-- –ù–æ–≤–æ—Å—Ç—å 6 -->
          <div class="news-item">
            <div class="news-time-source">5 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥ - Reuters</div>
            <div class="news-title">–†—É–±–ª—å –±–æ–¥—Ä –Ω–∞ —Ñ–æ—Ä–µ–∫—Å–µ, –Ω–æ —Å–∫—Ä–æ–º–Ω–∏—á–∞–µ—Ç –Ω–∞ –ú–æ—Å–±–∏—Ä–∂–µ –±–µ–∑ –Ω–∞–ª–æ–≥–æ–≤–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏</div>
          </div>
          
          <!-- –ù–æ–≤–æ—Å—Ç—å 9 -->
          <div class="news-item">
            <div class="news-time-source">9 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥ - Reuters</div>
            <div class="news-title">–†—É–±–ª—å –Ω–∞–±–∏—Ä–∞–µ—Ç –±–æ–ª–µ–µ 1% –Ω–∞ FX, –Ω–æ –∑–∞–±—É–∫—Å–æ–≤–∞–ª –Ω–∞ –ú–ûEX –±–µ–∑ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–∞–ª–æ–≥–æ–≤</div>
          </div>
        </div>
      </div>
      
      <div class="news-footer">
        <a href="#" class="show-all-news">–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –Ω–æ–≤–æ—Å—Ç–∏</a>
      </div>
    </section>

    <!-- Stats Section -->
    <section class="stats-section">
      <div class="stats-container">
        <div class="stats-header">
          <h2>–õ—é–±–æ–≤—å –≤ –∫–∞–∂–¥–æ–º <span class="hashtag">#FinTrack</span></h2>
        </div>
        
        <div class="stats-grid">
          <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ 1 -->
          <div class="stat-card">
            <div class="stat-number">100M+</div>
            <div class="stat-description">–°—Ç–æ–ª—å–∫–æ —Ç—Ä–µ–π–¥–µ—Ä–æ–≤ –∏ –∏–Ω–≤–µ—Å—Ç–æ—Ä–æ–≤ –ø–æ–ª—å–∑—É—é—Ç—Å—è –Ω–∞—à–µ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π</div>
          </div>
          
          <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ 2 -->
          <div class="stat-card">
            <div class="stat-number">#1</div>
            <div class="stat-description">–°–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π –≤ –º–∏—Ä–µ —Å–∞–π—Ç –≤ —Å—Ñ–µ—Ä–µ –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</div>
          </div>
          
          <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ 3 -->
          <div class="stat-card">
            <div class="stat-number">1.5M+</div>
            <div class="stat-description">–û—Ü–µ–Ω–æ–∫ —Å–æ —Å—Ä–µ–¥–Ω–∏–º —Ä–µ–π—Ç–∏–Ω–≥–æ–º 4,9 —É –Ω–∞—à–∏—Ö –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</div>
          </div>
          
          <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ 4 -->
          <div class="stat-card">
            <div class="stat-number">10M+</div>
            <div class="stat-description">–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏ –∏–¥–µ–π –æ—Ç –Ω–∞—à–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
      <div class="cta-container">
        <div class="cta-content">
          <h3>–ì–¥–µ –±—ã –≤—ã –Ω–∏ –æ–∫–∞–∑–∞–ª–∏—Å—å</h3>
          <div class="cta-slogan">
            <span>Look first /</span><br>
            <span>Then leap<span class="dot">.</span></span>
          </div>
          <a href="#" class="cta-button">–û FinTrack</a>
        </div>
      </div>
    </section>
  </main>
</template>

<script setup lang="ts">
import { ref, onMounted, nextTick } from 'vue'

interface Tab {
  id: string
  name: string
}

interface MarketIndex {
  symbol: string
  name: string
  value: string
  change: string
  changeClass: string
}

interface Video {
  id: string
  title: string
  author: string
  views: string
  time: string
  duration: string
  description: string
  likes: number
  thumbnail: string
}

interface Leader {
  name: string
  ticker: string
  price: string
  change: string
}

const activeTab = ref<string>('indexes')
const activeIdeaTab = ref<string>('editorial')

const tabs: Tab[] = [
  { id: 'indexes', name: '–ò–Ω–¥–µ–∫—Å—ã' },
  { id: 'stocks', name: '–ê–∫—Ü–∏–∏' },
  { id: 'crypto', name: '–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã' },
  { id: 'futures', name: '–§—å—é—á–µ—Ä—Å—ã' },
  { id: 'forex', name: '–§–æ—Ä–µ–∫—Å' },
  { id: 'bonds', name: '–û–±–ª–∏–≥–∞—Ü–∏–∏' },
  { id: 'etf', name: 'ETF' }
]

const ideaTabs: Tab[] = [
  { id: 'editorial', name: '–í—ã–±–æ—Ä —Ä–µ–¥–∞–∫—Ü–∏–∏' },
  { id: 'foryou', name: '–î–ª—è –≤–∞—Å' },
  { id: 'authors', name: '–í–∞—à–∏ –∞–≤—Ç–æ—Ä—ã' },
  { id: 'popular', name: '–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ' }
]

const marketIndexes: MarketIndex[] = [
  {
    symbol: 'MOEX:IMOEX',
    name: 'üá∑üá∫ –ò–Ω–¥–µ–∫—Å –ú–æ—Å–ë–∏—Ä–∂–∏',
    value: '2 958,75',
    change: '‚àí2,50%',
    changeClass: 'red'
  },
  {
    symbol: 'MOEX:RTSI',
    name: 'üá∑üá∫ –ò–Ω–¥–µ–∫—Å –†–¢–°',
    value: '1 142,68',
    change: '‚àí1,32%',
    changeClass: 'red'
  },
  {
    symbol: 'SP:SPX',
    name: 'S&P 500',
    value: '5 536,56',
    change: '+0,14%',
    changeClass: 'green'
  },
  {
    symbol: 'NASDAQ:NDX',
    name: 'Nasdaq 100',
    value: '19 499,34',
    change: '+0,37%',
    changeClass: 'green'
  },
  {
    symbol: 'DOW:DJI',
    name: 'Dow 30',
    value: '39 000,12',
    change: '+0,25%',
    changeClass: 'green'
  },
  {
    symbol: 'NYSE:NYA',
    name: 'NYSE Composite',
    value: '17 845,67',
    change: '+0,18%',
    changeClass: 'green'
  }
]

const videos: Video[] = [
  {
    id: '1',
    title: 'XRP. –í–æ–∑–º–æ–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ä–æ—Å—Ç–∞.',
    author: 'ViktorTrade888',
    views: '10K',
    time: '23 —á–∞—Å–∞ –Ω–∞–∑–∞–¥',
    duration: '3:03',
    description: '–í—Å–µ–º –ø—Ä–∏–≤–µ—Ç, –æ—á–µ—Ä–µ–¥–Ω–æ–π —Ä–∞–∑–±–æ—Ä –ø–æ XRP, –ø—Ä–æ—à—É –¥–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤–∏–¥–µ–æ –¥–æ –∫–æ–Ω—Ü–∞, —Ç–∞–∫ –∫–∞–∫ –µ—Å—Ç—å –Ω—é–∞–Ω—Å—ã.',
    likes: 41,
    thumbnail: 'https://i.ytimg.com/vi/example1/hqdefault.jpg'
  },
  {
    id: '2',
    title: 'EURUSD —É—Ç—Ä–µ–Ω–Ω–∏–π —Ä–∞–∑–±–æ—Ä 29.04',
    author: 'Dobrunia',
    views: '2.1K',
    time: '9 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥',
    duration: '2:10',
    description: '–í —ç—Ç–æ–º –≤–∏–¥–µ–æ –≤—ã –Ω–∞–π–¥–µ—Ç–µ —É—Ç—Ä–µ–Ω–Ω–∏–π —Ä–∞–∑–±–æ—Ä –ø–∞—Ä—ã EUR/USD. –Ø –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É—é –ø—Ä–µ–¥–≤–∑—è—Ç–æ—Å—Ç—å, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞ —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –¥–µ–Ω—å.',
    likes: 10,
    thumbnail: 'https://i.ytimg.com/vi/example2/hqdefault.jpg'
  },
  {
    id: '3',
    title: 'ICP / USDT: –í –∑–æ–Ω–µ –º–∞–∫—Ä–æ-–ø–æ–¥–¥–µ—Ä–∂–∫–∏',
    author: '–æ—Ç –∞—Ç—Ç–µ–ø—Ç—ë–≤–æ–≥–æ',
    views: '5.7K',
    time: '–ê–ø—Ä 27',
    duration: '4:15',
    description: '–¶–µ–Ω–∞ –¥–æ—Å—Ç–∏–≥–ª–∞ —Ü–µ–ª–µ–≤–æ–π –∑–æ–Ω—ã –º–∞–∫—Ä–æ-–ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–≥–æ –¥–Ω–∞. –ü–æ–∫–∞ —Ü–µ–Ω–∞ –æ—Å—Ç–∞—ë—Ç—Å—è...',
    likes: 28,
    thumbnail: 'https://i.ytimg.com/vi/example3/hqdefault.jpg'
  }
]

const growthLeaders: Leader[] = [
  {
    name: '–ê–û "–£–ö "–ö—É–∑–±–∞—Å—Å—Ä–∞–≤—Ä–µ–∑—É–≥–æ–ª—å" - –æ–±—ã–∫–Ω.',
    ticker: 'KZRU',
    price: '52,000 RUB',
    change: '+21,97%'
  },
  {
    name: '–ü–ê–û "–ú–≠–°–°" - –æ–±—ã–∫–Ω.',
    ticker: 'MESS',
    price: '0,089979 RUB',
    change: '+9,73%'
  },
  {
    name: '–ü–ê–û "–£—Ä–∞–ª—å—Å–∫–∞—è –∫—É–∑–Ω–∏—Ü–∞" - –æ–±—ã–∫–Ω.',
    ticker: 'URKZ',
    price: '33 900 RUB',
    change: '+7,28%'
  },
  {
    name: '–ù–ü–û –ù–∞—É–∫–∞ - –æ–±—ã–∫–Ω.',
    ticker: 'NAUK',
    price: '502,5 RUB',
    change: '+6,12%'
  },
  {
    name: '–ê–û "–í–æ–ª–≥–∞-—Ñ–ª–æ—Ç" - –æ–±—ã–∫–Ω.',
    ticker: 'VFLT',
    price: '2 597 RUB',
    change: '+3,92%'
  },
  {
    name: '–û–ê–û –ê–ö "–£—Ä–∞–ª—å—Å–∫ –∞–≤–∏–∞–ª–∏–Ω–∏–∏" - –æ–±—ã–∫–Ω.',
    ticker: 'URAL',
    price: '259 000 RUB',
    change: '+3,60%'
  }
]

const declineLeaders: Leader[] = [
  {
    name: '–ì—Ä—É–ø–ø–∞ –õ–°–† –ü–ê–û - –æ–±—ã–∫–Ω.',
    ticker: 'LSRG',
    price: '780,8 RUB',
    change: '-10,23%'
  },
  {
    name: 'AO "–ì–∞–∑—ç–Ω–µ—Ä–≥–æ—Å–µ—Ä–≤–∏—Å" - –æ–±—ã–∫–Ω.',
    ticker: 'GZES',
    price: '3608 RUB',
    change: '-9,80%'
  },
  {
    name: 'AO "–†–≠–°" - –æ–±—ã–∫–Ω.',
    ticker: 'RAES',
    price: '112,75 RUB',
    change: '-6,78%'
  },
  {
    name: '"–¢ –ü–ª—é—Å" –ü–ê–û –∞–æ.',
    ticker: 'VTGK',
    price: '1,2950 RUB',
    change: '-5,72%'
  },
  {
    name: 'VEON Ltd. ORD SHS',
    ticker: 'VEON-RX',
    price: '85,75 RUB',
    change: '-4,56%'
  },
  {
    name: '–ü–ê–û "–ì–¢–ú" - –æ–±—ã–∫–Ω.',
    ticker: 'GTRK',
    price: '227,4 RUB',
    change: '-5,37%'
  }
]

const setActiveTab = (tabId: string): void => {
  activeTab.value = tabId
}

const setActiveIdeaTab = (tabId: string): void => {
  activeIdeaTab.value = tabId
}

const showMarket = (): void => {
  console.log('Show market clicked')
}

const watchVideo = (): void => {
  console.log('Watch video clicked')
}

const playVideo = (videoId: string): void => {
  console.log('Play video:', videoId)
}

// TradingView integration

let currentChart: any = null

function loadTradingViewScript(): Promise<void> {
  return new Promise((resolve, reject) => {
    if ((window as any).TradingView) {
      resolve()
      return
    }
    const script = document.createElement('script')
    script.src = 'https://s3.tradingview.com/tv.js'
    script.async = true
    script.onload = () => resolve()
    script.onerror = () => reject(new Error('Failed to load TradingView script'))
    document.head.appendChild(script)
  })
}

async function createChart(symbol: string) {
  if (!(window as any).TradingView) {
    await loadTradingViewScript()
  }

  if (currentChart) {
    currentChart.remove?.()
    const container = document.getElementById('tradingview_chart')
    if (container) container.innerHTML = ''
  }

  currentChart = new (window as any).TradingView.widget({
    width: '100%',
    height: 400,
    symbol,
    interval: 'D',
    timezone: 'Etc/UTC',
    theme: 'dark',
    style: '1',
    locale: 'ru',
    toolbar_bg: '#1e1e1e',
    enable_publishing: false,
    hide_top_toolbar: true,
    withdateranges: false,
    container_id: 'tradingview_chart',
  })
}

const selectIndex = async (symbol: string): Promise<void> => {
  activeTab.value = 'indexes'  // –∏–ª–∏ –¥—Ä—É–≥–æ–π –Ω—É–∂–Ω—ã–π —Ç–∞–±, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
  await createChart(symbol)
}

onMounted(async () => {
  await loadTradingViewScript()
  if (marketIndexes.length > 0) {
    await createChart(marketIndexes[0].symbol)
  }
})
</script>


<style scoped>

html, body {
  height: 100%;
  margin: 0;
  padding: 0;
  overflow-x: hidden;
}

main {
  display: flex;
  flex-direction: column;
  min-height: 100%;
}

/* Marketing Section */
.marketing-main {
  min-height: 91vh;
  overflow: visible;
  position: relative;
  flex: 0 0 auto; /* –£–±–∏—Ä–∞–µ–º flex-grow */
  display: flex;
  flex-shrink: 0;
  flex-direction: column;
  justify-content: center;
  padding: 40px;
  background: url('https://static.tradingview.com/static/bundles/space-desktop.ee9d3559669f379d3931.webp') no-repeat center center/cover;
}

.marketing-content {
  max-width: 600px;
}

.marketing-content h1 {
  font-size: 64px;
  line-height: 1.2;
  font-weight: 800;
  color: white;
}

.marketing-subtitle {
  font-size: 20px;
  margin: 20px 0;
  color: white;
}

.marketing-cta {
  background: linear-gradient(80deg, #00c6ff, #6206bd);
  border: none;
  padding: 14px 24px;
  font-size: 16px;
  border-radius: 10px;
  color: white;
  font-weight: bold;
  cursor: pointer;
  margin-bottom: 10px;
  transition: transform 0.2s ease;
}

.marketing-cta:hover {
  transform: translateY(-2px);
}

.marketing-note {
  font-size: 14px;
  color: #ccc;
}

.marketing-video {
  position: absolute;
  bottom: 30px;
  right: 40px;
  text-align: right;
}

.marketing-watch-video {
  background: none;
  border: none;
  color: white;
  font-size: 16px;
  cursor: pointer;
  transition: opacity 0.2s ease;
}

.marketing-watch-video:hover {
  opacity: 0.7;
}

.marketing-person {
  font-size: 14px;
  color: #ccc;
}

/* Content Section */
.content {
  flex: 1; /* –ó–∞–Ω–∏–º–∞–µ—Ç –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ */
  padding: 20px;
  max-width: 1400px;
  margin: 0 auto;
  background-color: #000;
  color: white;
  width: 100%;
  position: relative;
  z-index: 1;
}

.content h2 {
  color: white;
  margin-bottom: 20px;
}

.tabs {
  display: flex;
  margin: 10px 0;
  gap: 10px;
  overflow-x: auto;
  padding-bottom: 10px;
}

.tabs button {
  background: #111;
  color: #aaa;
  border: none;
  padding: 8px 16px;
  border-radius: 5px;
  cursor: pointer;
  white-space: nowrap;
  transition: all 0.2s ease;
}

.tabs button.active {
  background: #333;
  color: white;
  font-weight: bold;
}

.tabs button:hover {
  background: #222;
}

.market-indexes {
  display: flex;
  gap: 20px;
  margin: 20px 0;
  flex-wrap: wrap;
}

.index-card {
  background: #111;
  padding: 15px;
  border-radius: 10px;
  min-width: 160px;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.index-card:hover {
  background: #222;
  transform: translateY(-2px);
}

.index-card.red .percent {
  color: #ff4d4d;
}

.index-card.green .percent {
  color: #4dff4d;
}

.chart-container {
  margin-top: 20px;
  background: #111;
  border-radius: 10px;
  padding: 15px;
  min-height: 400px;
}

/* Community Ideas */
.community-ideas {
  margin-top: 40px;
  padding: 20px 0;
  border-top: 1px solid #333;
}

.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.section-header h3 {
  margin: 0;
  font-size: 1.3em;
  color: #fff;
}

.idea-tabs {
  display: flex;
  gap: 8px;
}

.idea-tabs button {
  background: #222;
  color: #aaa;
  border: none;
  padding: 8px 16px;
  border-radius: 20px;
  cursor: pointer;
  font-size: 0.9em;
  transition: all 0.2s ease;
}

.idea-tabs button:hover {
  background: #333;
  color: #fff;
}

.idea-tabs button.active {
  background: linear-gradient(90deg, #00c6ff, #a0f);
  color: white;
  font-weight: bold;
}

.video-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 24px;
  margin-top: 20px;
}

.video-item {
  background: transparent;
  border-radius: 8px;
  overflow: hidden;
  transition: transform 0.2s ease;
}

.video-item:hover {
  transform: translateY(-3px);
}

.video-thumbnail {
  position: relative;
  border-radius: 8px;
  overflow: hidden;
  background: #222;
  aspect-ratio: 16 / 9;
  margin-bottom: 12px;
  cursor: pointer;
}

.video-thumbnail img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.video-duration {
  position: absolute;
  bottom: 8px;
  right: 8px;
  background: rgba(0, 0, 0, 0.8);
  color: white;
  padding: 3px 6px;
  border-radius: 4px;
  font-size: 12px;
}

.play-button {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 60px;
  height: 60px;
  background: rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(4px);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 22px;
  opacity: 0;
  transition: opacity 0.2s ease;
}

.video-thumbnail:hover .play-button {
  opacity: 1;
}

.video-details {
  padding: 0 4px;
}

.video-title {
  margin: 0;
  font-size: 16px;
  font-weight: 500;
  color: white;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  line-height: 1.4;
  max-height: 2.8em;
  margin-bottom: 8px;
}

.video-author {
  font-size: 13px;
  color: #aaa;
  margin-bottom: 6px;
}

.video-stats {
  font-size: 13px;
  color: #777;
  display: flex;
  align-items: center;
  gap: 6px;
  margin-bottom: 10px;
}

.video-description {
  color: #aaa;
  font-size: 14px;
  margin: 8px 0;
  line-height: 1.4;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

.video-likes {
  display: flex;
  align-items: center;
  gap: 6px;
  color: #aaa;
  font-size: 13px;
  margin-top: 8px;
}

/* Leaders Section */
.leaders-section {
  margin-top: 40px;
  padding: 0 20px;
}

.leaders-section .section-header {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  margin-bottom: 10px;
}

.leaders-section .section-header h3 {
  margin: 0;
  font-size: 18px;
  color: #fff;
  padding: 0 15px;
}

.leaders-container {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
}

.leaders-block {
  background: #111;
  border-radius: 10px;
  padding: 15px;
}

.leaders-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.leader-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 0;
  border-bottom: 1px solid #222;
}

.leader-item:last-child {
  border-bottom: none;
}

.leader-info {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  min-width: 0;
}

.leader-name {
  color: #ddd;
  font-size: 14px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.leader-ticker {
  color: #777;
  font-size: 12px;
  margin-top: 2px;
}

.leader-price {
  color: #aaa;
  font-size: 12px;
  margin-top: 2px;
}

.leader-change {
  font-size: 14px;
  font-weight: bold;
  min-width: 70px;
  text-align: right;
}

.leader-change.positive {
  color: #4dff4d;
}

.leader-change.negative {
  color: #ff4d4d;
}

.show-all {
  display: block;
  color: #00b0f0;
  font-size: 13px;
  margin-top: 15px;
  text-decoration: none;
  transition: color 0.2s ease;
}

.show-all:hover {
  text-decoration: underline;
  color: #00c6ff;
}

.stats-section {
  background-color: #1a1a1a;
  padding: 40px 0;
  margin: 30px auto; /* –ò–∑–º–µ–Ω–µ–Ω–æ */
  max-width: 1400px; /* –î–æ–±–∞–≤–ª–µ–Ω–æ */
  width: calc(100% - 40px); /* –î–æ–±–∞–≤–ª–µ–Ω–æ */
}
  
.stats-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
}
  
  .stats-header h2 {
    text-align: center;
    font-size: 28px;
    margin-bottom: 40px;
    color: #fff;
  }
  
  .hashtag {
    color: #4CAF50;
  }
  
  .stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 30px;
  }
  
  .stat-card {
    background-color: #222;
    border-radius: 10px;
    padding: 30px 20px;
    text-align: center;
    transition: all 0.3s ease;
  }
  
  .stat-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
  }
  
  .stat-number {
    font-size: 36px;
    font-weight: bold;
    color: #4CAF50;
    margin-bottom: 15px;
  }
  
  .stat-description {
    font-size: 16px;
    color: #ddd;
    line-height: 1.4;
  }
  
/* CTA Section */
.cta-section {
  background-color: #121212;
  padding: 80px 0;
  position: relative;
  overflow: hidden;
  background-image: url(../assets/images/lftl.jpg);
  background-position: center 30%;
  background-repeat: no-repeat;
  background-size: cover;
  border-radius: 20px;
  margin: 0 auto; /* –î–æ–±–∞–≤–ª–µ–Ω–æ */
  max-width: 1400px; /* –î–æ–±–∞–≤–ª–µ–Ω–æ */
  width: calc(100% - 40px); /* –î–æ–±–∞–≤–ª–µ–Ω–æ */
}

.cta-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 40px;
  display: flex;
  align-items: center;
  height: 100%;
}

/* –ö–æ–Ω—Ç–µ–Ω—Ç */
.cta-content {
  text-align: left;
  max-width: 500px;
  z-index: 2;
}

.cta-content h3 {
  font-size: 20px;
  color: #fff;
  margin-bottom: 20px;
  font-weight: 500;
}

.cta-slogan {
  font-size: 48px;
  font-weight: bold;
  line-height: 1.2;
  color: #fff;
  margin-bottom: 30px;
}

.cta-slogan span:first-child {
  color: #fff;
}

.cta-slogan .dot {
  color: #fff;
}

.cta-button {
  display: inline-block;
  background-color: #fff;
  color: #000;
  padding: 12px 24px;
  border-radius: 999px;
  font-size: 14px;
  font-weight: 500;
  text-decoration: none;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
  transition: background-color 0.3s ease;
}

.cta-button:hover {
  background-color: #f0f0f0;
}


/* –°—Ç–∏–ª–∏ –¥–ª—è –±–ª–æ–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π */
.russia-news {
  background-color: #1a1a1a;
  border-radius: 8px;
  padding: 20px;
  margin: 20px auto; /* –ò–∑–º–µ–Ω–µ–Ω–æ */
  max-width: 1400px; /* –î–æ–±–∞–≤–ª–µ–Ω–æ */
  width: calc(100% - 40px); /* –î–æ–±–∞–≤–ª–µ–Ω–æ */
}
  
  .russia-news .section-header {
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 1px solid #2a2a2a;
  }
  
  .russia-news .section-header h2 {
    margin: 0;
    font-size: 18px;
    color: #fff;
  }
  
  .news-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
  }
  
  .news-column {
    display: flex;
    flex-direction: column;
    gap: 15px;
  }
  
  .news-item {
    padding: 12px;
    background-color: #222;
    border-radius: 6px;
    transition: all 0.2s ease;
    flex: 1;
  }
  
  .news-item:hover {
    background-color: #2a2a2a;
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
  
  .news-time-source {
    font-size: 12px;
    color: #aaa;
    margin-bottom: 5px;
  }
  
  .news-title {
    font-size: 14px;
    color: #fff;
    line-height: 1.4;
  }
  
  .news-footer {
    margin-top: 20px;
    text-align: center;
  }
  
  .show-all-news {
    color: #4CAF50;
    text-decoration: none;
    font-size: 14px;
    transition: color 0.2s ease;
  }
  
  .show-all-news:hover {
    color: #3e8e41;
  }
  
/* Responsive */
@media (max-width: 768px) {
  .marketing-main {
    padding: 20px;
  }
  
  .marketing-content h1 {
    font-size: 40px;
  }
  
  .marketing-video {
    position: static;
    margin-top: 30px;
    text-align: left;
  }
  
  .market-indexes {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .leaders-container {
    grid-template-columns: 1fr;
  }
  
  .video-grid {
    grid-template-columns: 1fr;
  }
  
  .section-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 15px;
  }
  
  .idea-tabs {
    flex-wrap: wrap;
  }
}

@media (max-width: 480px) {
  .market-indexes {
    grid-template-columns: 1fr;
  }
  
  .tabs {
    flex-wrap: wrap;
  }
}
</style>